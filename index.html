<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JD Evaluation AI</title>
  <link rel="icon" href="favicon.svg" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Montserrat", "ui-sans-serif", "system-ui"] },
          colors: {
            bg: "#0f172a",
            card: "#111827",
            line: "#374151",
            soft: "#94a3b8"
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="min-h-screen bg-bg text-gray-300 antialiased">
  <header class="container mx-auto px-4 md:px-8 pt-8">
    <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight text-white">JD Evaluation AI</h1>
    <p class="mt-2 text-soft">Đánh giá mô tả công việc theo 12 yếu tố – chạy thẳng trên GitHub Pages (không cần build)</p>
  </header>

  <main class="container mx-auto px-4 md:px-8 py-6">
    <!-- Tabs -->
    <div class="border-b border-zinc-700">
      <nav class="-mb-px flex gap-6" role="tablist">
        <button id="tab-eval" class="tab-btn active" data-target="#panel-eval">Đánh giá giá trị công việc</button>
        <button id="tab-sg" class="tab-btn" data-target="#panel-sg">Tra cứu S-Grade</button>
      </nav>
    </div>

    <!-- Panel: Evaluation -->
    <section id="panel-eval" class="tab-panel block">
      <div class="mt-6 space-y-6">
        <div class="card">
          <div class="space-y-6">
            <!-- Section title -->
            <div>
              <div class="flex items-center gap-2 text-sm font-semibold text-soft uppercase tracking-wider">
                <span class="inline-flex items-center gap-1 rounded-md bg-zinc-800/70 border border-zinc-700 px-2 py-1">
                  <span class="text-emerald-400 font-mono text-xs">info</span> Hướng dẫn
                </span>
              </div>
              <h2 class="mt-3 text-2xl md:text-3xl font-extrabold text-white">
                Đánh giá mô tả công việc theo 12 yếu tố PwC
              </h2>
              <p class="mt-2 text-soft">Hãy tải lên file mô tả công việc để được hệ thống đánh giá tự động.</p>
            </div>

            <!-- Inputs -->
            <div class="grid gap-6">
              <div>
                <label class="lbl">
                  <span class="badge">abc</span> Nhập tên vị trí công việc
                </label>
                <input id="jobTitle" type="text" class="inp" placeholder="e.g., Deputy Sorting Centers Manager" />
              </div>

              <div>
                <label class="lbl">
                  <span class="badge badge-emerald">docx</span> Tải lên JD (.docx, .txt)
                </label>

                <div id="dropZone" class="dropzone">
                  <input id="fileInput" type="file" accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.txt" class="hidden">
                  <div class="text-center pointer-events-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-soft" viewBox="0 0 24 24" fill="currentColor"><path d="M12 16a1 1 0 001-1V8.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L11 8.414V15a1 1 0 001 1z"/><path d="M5 15a7 7 0 1114 0 3 3 0 110 6H5a3 3 0 110-6z"/></svg>
                    <p class="mt-3"><span class="text-white font-semibold">Click to upload</span> or drag and drop</p>
                    <p class="text-xs mt-1 text-soft">DOCX or TXT (max 200MB)</p>
                  </div>
                </div>
              </div>

              <div class="flex gap-3">
                <button id="btnEvaluate" class="btn-primary">Đánh giá JD</button>
                <button id="btnClear" class="btn-ghost">Xóa nội dung</button>
              </div>
            </div>
          </div>
        </div>

        <div id="resultContainer" class="card hidden">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold text-white">Kết quả đánh giá</h3>
            <div class="flex items-center gap-2 text-sm text-soft">
              <span class="inline-flex items-center gap-1 rounded-md bg-zinc-800/70 border border-zinc-700 px-2 py-1"><span class="text-emerald-400 font-mono text-xs">✓</span> AI</span>
            </div>
          </div>
          <div id="resultView" class="space-y-6"></div>
        </div>
      </div>
    </section>

    <!-- Panel: S-Grade -->
    <section id="panel-sg" class="tab-panel hidden">
      <div class="mt-6 card space-y-5">
        <div class="flex flex-col md:flex-row md:items-end gap-4 md:gap-6">
          <div class="flex-1">
            <label class="lbl">Mã/Tên vị trí</label>
            <input id="sgSearch" type="text" class="inp" placeholder="Nhập mã/tên vị trí..." />
          </div>
          <div class="w-full md:w-52">
            <label class="lbl">Cấp bậc</label>
            <select id="sgRank" class="inp">
              <option value="all">Tất cả</option>
            </select>
          </div>
          <div class="flex gap-2">
            <button id="btnTemplate" class="btn-ghost">Tải file mẫu</button>
            <button id="btnImport" class="btn-primary">Nhập Excel</button>
            <button id="btnExport" class="btn-ghost">Xuất Excel</button>
            <input id="sgFile" type="file" accept=".xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" class="hidden" />
          </div>
        </div>

        <div class="overflow-x-auto rounded-lg border border-zinc-700">
          <table class="min-w-full divide-y divide-zinc-700">
            <thead class="bg-zinc-800/60">
              <tr>
                <th class="th">Tên vị trí</th>
                <th class="th">Tên Tiếng Việt</th>
                <th class="th">Loại vị trí</th>
                <th class="th">Cấp bậc</th>
              </tr>
            </thead>
            <tbody id="sgBody" class="divide-y divide-zinc-700 bg-card"></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <footer class="container mx-auto px-4 md:px-8 py-10 text-center text-soft border-t border-zinc-800 mt-12">
    © 2025 JD Evaluation AI. All rights reserved.
  </footer>

  <!-- libs -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/mammoth@1.7.0/mammoth.browser.min.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
